// Stress test: Deep if-else chains and nested conditions
// Expected: 128
fn main() -> i32 {
    let mut sum: i32 = 0;
    
    // Deep if-else chain
    let x: i32 = 15;
    if x < 5 {
        sum = sum + 1;
    } else {
        if x < 10 {
            sum = sum + 2;
        } else {
            if x < 20 {
                sum = sum + 3;  // This branch: sum = 3
            } else {
                sum = sum + 4;
            }
        }
    }
    
    // Nested conditions in loop
    for i in 0..10 {
        if i < 5 {
            if i < 3 {
                sum = sum + 1;  // i=0,1,2: +3
            } else {
                sum = sum + 2;  // i=3,4: +4
            }
        } else {
            if i < 8 {
                sum = sum + 3;  // i=5,6,7: +9
            } else {
                sum = sum + 4;  // i=8,9: +8
            }
        }
    }
    // sum = 3 + 3 + 4 + 9 + 8 = 27
    
    // Complex conditional expressions
    let a: i32 = 10;
    let b: i32 = 20;
    let c: i32 = 30;
    
    let result1: i32 = if a < b {
        if b < c {
            50  // This branch
        } else {
            40
        }
    } else {
        30
    };
    
    // Nested ifs with arithmetic
    let val: i32 = 7;
    let result2: i32 = if val > 5 {
        if val > 10 {
            100
        } else {
            if val > 6 {
                25  // This branch
            } else {
                20
            }
        }
    } else {
        10
    };
    
    // If in block
    let block_result: i32 = {
        let temp: i32 = 12;
        if temp > 10 {
            if temp > 15 {
                30
            } else {
                26  // This branch
            }
        } else {
            20
        }
    };
    
    return sum + result1 + result2 + block_result;  // 27 + 50 + 25 + 26 = 128
}
